const g=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}};g();class f{constructor(e){this.containerImages=document.querySelector(e),this.images=this.containerImages.children,this.listImg=Array.from(this.images),this.listButtons=[],this.style={image:{base:"slide__img",active:"slide__img--active"},btn:{container:"slide__btn__container",base:"slide__btn",active:"slide__btn--active"}},this.activeIndex=0,this.intervalSlide,this.initialization()}initialization(){this.generateBtn(),this.addImageClasses(),this.addClass(),this.startInterval()}startInterval(){clearInterval(this.intervalSlide),this.intervalSlide=setInterval(()=>this.slide(),3e3)}changeActivePhoto(){this.activeIndex=this.activeIndex<this.listImg.length-1?++this.activeIndex:0}slide(){this.removeClass(),this.changeActivePhoto(),this.addClass()}addImageClasses(){this.listImg.forEach(e=>e.classList.add(this.style.image.base))}generateBtn(){const e=this.listImg.map(()=>`<button class=${this.style.btn.base}></button>`),n=`
    <div class=${this.style.btn.container}>${e.join("")}</div>
    `,s=document.createRange().createContextualFragment(n);this.listButtons=s.querySelectorAll("."+this.style.btn.base),this.listenerBtn(),this.containerImages.appendChild(s)}listenerBtn(){this.listButtons.forEach((e,n)=>{e.addEventListener("click",()=>{this.removeClass(),this.activeIndex=n,this.addClass(),this.startInterval()})})}removeClass(){this.images[this.activeIndex].classList.remove(this.style.image.active),this.listButtons[this.activeIndex].classList.remove(this.style.btn.active)}addClass(){this.images[this.activeIndex].classList.add(this.style.image.active),this.listButtons[this.activeIndex].classList.add(this.style.btn.active)}}let p={};const h=document.querySelector(".pricing__currency__select");h.addEventListener("change",()=>{const t=h.value;L.changePricesTo(t)});function b(){fetch("https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/usd.json").then(t=>t.json()).then(t=>{const n=t["usd"];["eur","gbp"].forEach(s=>{p[s]=n[s]})})}class w{constructor(e){this.value=this.whichValue(e),this.currency=this.whichCurrency(e)}whichValue(e){return Number(e.replace(/\$/,"").replace(/\€/,"").replace(/\₤/,""))}whichSymbol(e){return{eur:"\u20AC",gbp:"\u20A4",usd:"$"}[e]}whichCurrency(e){const n=e.replace(/\d/g,"");return{"\u20AC":"eur","\u20A4":"gbp",$:"usd"}[n]}conversion(e){return e===this.currency?this.value:this.value*p[e]}exchangeToString(e){const n=Math.round(this.conversion(e));return e==="eur"?n+this.whichSymbol(e):this.whichSymbol(e)+n}}class S{constructor(e){this.valuesHTML=document.querySelectorAll(e),this.initialValue=this.takeInitialValue()}takeInitialValue(){return[...this.valuesHTML].map(n=>new w(n.textContent))}changePricesTo(e){this.valuesHTML.forEach((n,i)=>{n.textContent=this.initialValue[i].exchangeToString(e)})}}const L=new S(".pricing__container__price__p mark"),k=()=>document.body.classList.toggle("overflow-hidden");function I(){document.body.addEventListener("keyup",t=>{!document.querySelector(".info__newsletter__container").classList.contains("hidden")&&t.key=="Escape"&&(a(),l(!1))})}const l=t=>{const e="keepRecomendNewsletter";t?localStorage.setItem(e,JSON.stringify(!1)):sessionStorage.setItem(e,JSON.stringify(!1))},E=()=>(localStorage.getItem("keepRecomendNewsletter")||sessionStorage.getItem("keepRecomendNewsletter"))==null,a=()=>{E()&&(document.querySelector(".info__newsletter__container").classList.toggle("hidden"),k(),I())},d=t=>{t.preventDefault(),t.stopPropagation(),a(),l(!1)},x=()=>{const t=document.querySelector("#newsletter__bg");t.addEventListener("click",e=>{e.stopPropagation(),e.target===t&&d(e)})};document.querySelector(".newsletter__btn--exit").addEventListener("click",t=>{d(t),l(!0)});document.querySelector(".info__newsletter__btn__close").addEventListener("click",t=>{d(t)});const r=t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),m=t=>t.length>=2&&t.length<100,_=t=>{fetch("https://jsonplaceholder.typicode.com/posts/1/comments",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>{console.log("El envio de datos se ha realizado correctamente"),console.table(e)})};document.querySelector(".newsletter__btn").addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const e=document.querySelector("input[type=email].info__newsletter__input"),n=document.querySelector("input[type=checkbox].info__newsletter__checkbox");if(r(e.value)?e.classList.remove("form__input--invalid"):e.classList.add("form__input--invalid"),n.checked?n.classList.remove("form__input--invalid"):n.classList.add("form__input--invalid"),r(e.value)&&n.checked){const i={email:e.value,consent:document.querySelector("input[type=checkbox].info__newsletter__checkbox").checked};_(i),d(t),l(!0)}});let v,c;const y=()=>{const t=window.scrollY;if(c!=null&&c<t)return c=null,window.cancelAnimationFrame(v);t>0&&(window.scrollTo(0,t-t/25),v=window.requestAnimationFrame(y)),c=t},C=document.querySelector(".btn__scroll_up");C.addEventListener("click",()=>{setTimeout(()=>y(),200)});const q=document.querySelector("#hamburger"),N=document.querySelectorAll(".nav__menu__a");N.forEach(t=>t.addEventListener("click",()=>{q.checked=!1}));window.addEventListener("scroll",()=>{const t=Math.trunc(window.scrollY*100/(document.body.scrollHeight-window.innerHeight));document.querySelector(".percentage-scroller").style.width=t+"%",t===25&&a()});document.querySelector("#submit-btn").addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();let e=document.querySelector("input[type=text].form__input"),n=document.querySelector("input[type=email].form__input"),i=document.querySelector("input[type=checkbox].form__checkbox");if(m(e.value)?e.classList.remove("form__input--invalid"):e.classList.add("form__input--invalid"),r(n.value)?n.classList.remove("form__input--invalid"):n.classList.add("form__input--invalid"),i.checked?i.classList.remove("form__input--invalid"):i.classList.add("form__input--invalid"),r(n.value)&&i.checked&&m(e.value)){const s={name:e.value,email:n.value,consent:i.checked};_(s),e.value="",n.value="",i.checked=!1,window.scrollTo(0,0)}});new f("#slider");window.addEventListener("DOMContentLoaded",()=>{b(),x(),setTimeout(()=>{document.querySelector(".info__newsletter__container").classList.contains("hidden")&&a()},5e3)});
