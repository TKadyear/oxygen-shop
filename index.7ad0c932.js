const _=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};_();class y{constructor(e){this.containerImages=document.querySelector(e),this.images=this.containerImages.children,this.listImg=Array.from(this.images),this.listButtons=[],this.style={image:{base:"slide__img",active:"slide__img--active"},btn:{container:"slide__btn__container",base:"slide__btn",active:"slide__btn--active"}},this.activeIndex=0,this.intervalSlide,this.initialization()}initialization(){this.generateBtn(),this.addImageClasses(),this.addClass(),this.startInterval()}startInterval(){clearInterval(this.intervalSlide),this.intervalSlide=setInterval(()=>this.slide(),3e3)}changeActivePhoto(){this.activeIndex=this.activeIndex<this.listImg.length-1?++this.activeIndex:0}slide(){this.removeClass(),this.changeActivePhoto(),this.addClass()}addImageClasses(){this.listImg.forEach(e=>e.classList.add(this.style.image.base))}generateBtn(){const e=this.listImg.map(()=>`<button class=${this.style.btn.base}></button>`),s=`
    <div class=${this.style.btn.container}>${e.join("")}</div>
    `,n=document.createRange().createContextualFragment(s);this.listButtons=n.querySelectorAll("."+this.style.btn.base),this.listenerBtn(),this.containerImages.appendChild(n)}listenerBtn(){this.listButtons.forEach((e,s)=>{e.addEventListener("click",()=>{this.removeClass(),this.activeIndex=s,this.addClass(),this.startInterval()})})}removeClass(){this.images[this.activeIndex].classList.remove(this.style.image.active),this.listButtons[this.activeIndex].classList.remove(this.style.btn.active)}addClass(){this.images[this.activeIndex].classList.add(this.style.image.active),this.listButtons[this.activeIndex].classList.add(this.style.btn.active)}}let m={};const u=document.querySelector(".pricing__currency__select");u.addEventListener("change",()=>{const t=u.value;w.changePricesTo(t)});function g(){fetch("https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/usd.json").then(t=>t.json()).then(t=>{const s=t["usd"];["eur","gbp"].forEach(n=>{m[n]=s[n]})})}class f{constructor(e){this.value=this.whichValue(e),this.currency=this.whichCurrency(e)}whichValue(e){return Number(e.replace(/\$/,"").replace(/\€/,"").replace(/\₤/,""))}whichSymbol(e){return{eur:"\u20AC",gbp:"\u20A4",usd:"$"}[e]}whichCurrency(e){const s=e.replace(/\d/g,"");return{"\u20AC":"eur","\u20A4":"gbp",$:"usd"}[s]}conversion(e){return e===this.currency?this.value:this.value*m[e]}exchangeToString(e){const s=Math.round(this.conversion(e));return e==="eur"?s+this.whichSymbol(e):this.whichSymbol(e)+s}}class b{constructor(e){this.valuesHTML=document.querySelectorAll(e),this.initialValue=this.takeInitialValue()}takeInitialValue(){return[...this.valuesHTML].map(s=>new f(s.textContent))}changePricesTo(e){this.valuesHTML.forEach((s,i)=>{s.textContent=this.initialValue[i].exchangeToString(e)})}}const w=new b(".pricing__container__price__p mark"),S=()=>document.body.classList.toggle("overflow-hidden");function L(){document.body.addEventListener("keyup",t=>{!document.querySelector(".info__newsletter__container").classList.contains("hidden")&&t.key=="Escape"&&(l(),r(!1))})}const r=t=>{const e="keepRecomendNewsletter";t?localStorage.setItem(e,JSON.stringify(!1)):sessionStorage.setItem(e,JSON.stringify(!1))},I=()=>(localStorage.getItem("keepRecomendNewsletter")||sessionStorage.getItem("keepRecomendNewsletter"))==null,l=()=>{I()&&(document.querySelector(".info__newsletter__container").classList.toggle("hidden"),S(),L())},a=t=>{t.preventDefault(),t.stopPropagation(),l(),r(!1)},k=()=>{const t=document.querySelector("#newsletter__bg");t.addEventListener("click",e=>{e.stopPropagation(),e.target===t&&a(e)})};document.querySelector(".newsletter__btn--exit").addEventListener("click",t=>{a(t),r(!0)});document.querySelector(".info__newsletter__btn__close").addEventListener("click",t=>{a(t)});const c=t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),h=t=>t.length>=2&&t.length<100,v=t=>{fetch("https://jsonplaceholder.typicode.com/posts/1/comments",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>{console.log("El envio de datos se ha realizado correctamente"),console.table(e)})};document.querySelector(".newsletter__btn").addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const e=document.querySelector("input[type=email].info__newsletter__input"),s=document.querySelector("input[type=checkbox].info__newsletter__checkbox");if(c(e.value)?e.classList.remove("form__input--invalid"):e.classList.add("form__input--invalid"),s.checked?s.classList.remove("form__input--invalid"):s.classList.add("form__input--invalid"),c(e.value)&&s.checked){const i={email:e.value,consent:document.querySelector("input[type=checkbox].info__newsletter__checkbox").checked};v(i),a(t),r(!0)}});const p=()=>{const t=window.scrollY;t>0&&(window.scrollTo(0,t-t/25),window.requestAnimationFrame(p))},x=document.querySelector(".btn__scroll_up");x.addEventListener("click",()=>{setTimeout(()=>p(),200)});window.addEventListener("scroll",()=>{const t=Math.trunc(window.scrollY*100/(document.body.scrollHeight-window.innerHeight));document.querySelector(".percentage-scroller").style.width=t+"%",t===25&&l()});document.querySelector("#submit-btn").addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();let e=document.querySelector("input[type=text].form__input"),s=document.querySelector("input[type=email].form__input"),i=document.querySelector("input[type=checkbox].form__checkbox");if(h(e.value)?e.classList.remove("form__input--invalid"):e.classList.add("form__input--invalid"),c(s.value)?s.classList.remove("form__input--invalid"):s.classList.add("form__input--invalid"),i.checked?i.classList.remove("form__input--invalid"):i.classList.add("form__input--invalid"),c(s.value)&&i.checked&&h(e.value)){const n={name:e.value,email:s.value,consent:i.checked};v(n),e.value="",s.value="",i.checked=!1,window.scrollTo(0,0)}});new y("#slider");window.addEventListener("DOMContentLoaded",()=>{g(),k(),setTimeout(()=>{document.querySelector(".info__newsletter__container").classList.contains("hidden")&&l()},5e3)});
